/* ================================
   FES Pulse — Streamlit Theme
   Author: Sameer Raza Malik
   Notes:
   - Uses CSS variables for easy theming
   - Gentle gradients, glassy cards, round corners
   - Consistent buttons/inputs/tables/expanders
   ================================ */

   :root{
    /* Brand colors */
    --brand: #2563eb;         /* primary blue */
    --brand-2: #0ea5e9;       /* accent cyan */
    --brand-3: #a78bfa;       /* accent violet */
  
    /* Text */
    --text-strong: #0f172a;   /* slate-900 */
    --text: #334155;          /* slate-700 */
    --text-muted: #64748b;    /* slate-500 */
  
    /* Surfaces */
    --bg: #f7faff;            /* page background */
    --panel: #ffffff;         /* cards/panels */
    --panel-2: #f1f5f9;       /* subtle filled controls */
    --line: rgba(0,0,0,0.08); /* borders */
  
    /* Effects */
    --shadow: 0 10px 28px rgba(15, 23, 42, 0.08);
    --radius: 14px;
  
    /* States */
    --success: #16a34a;
    --danger:  #ef4444;
    --warning: #f59e0b;
  }
  
  /* Page background & global typography */
  html, body, .stApp {
    background:
      radial-gradient(1200px 600px at -10% -10%, #eef2ff 0%, transparent 60%),
      radial-gradient(1200px 600px at 110% -10%, #e0f2fe 0%, transparent 60%),
      radial-gradient(1200px 600px at 50% 110%, #e9f7ff 0%, transparent 60%),
      var(--bg);
    color: var(--text);
    font-feature-settings: "ss01" 1, "cv01" 1;
  }
  
  /* Headings */
  h1, h2, h3 {
    color: var(--text-strong);
    letter-spacing: .2px;
  }
  h1 { font-weight: 800; }
  h2 { font-weight: 700; }
  h3 { font-weight: 700; }
  
  /* Title block helper (if you use the FES Pulse headline) */
  .fes-title h1 span.accent { color: var(--brand); }
  
  /* Cards / Containers (generic) */
  .block-container {
    padding-top: 1.2rem;
  }
  div[data-testid="stHorizontalBlock"] > div,
  div[data-testid="stVerticalBlock"] > div {
    border-radius: var(--radius);
    background: var(--panel);
    border: 1px solid var(--line);
    box-shadow: var(--shadow);
  }
  
  /* Sidebar */
  section[data-testid="stSidebar"] {
    background:
      linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%);
    border-right: 1px solid var(--line);
  }
  section[data-testid="stSidebar"] .sidebar-content,
  section[data-testid="stSidebar"] [data-testid="stSidebarContent"]{
    padding-top: .8rem;
  }
  section[data-testid="stSidebar"] h1, 
  section[data-testid="stSidebar"] h2, 
  section[data-testid="stSidebar"] h3 {
    color: var(--text-strong);
  }
  
  /* Buttons */
  .stButton > button,
  .stDownloadButton > button {
    border-radius: 999px !important;
    border: 1px solid rgba(37,99,235,0.25);
    background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);
    color: #fff;
    padding: .55rem 1rem;
    font-weight: 600;
    box-shadow: 0 6px 16px rgba(37, 99, 235, .25);
    transition: transform .04s ease, box-shadow .2s ease;
  }
  .stButton > button:hover,
  .stDownloadButton > button:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 22px rgba(37, 99, 235, .28);
  }
  .stButton > button:active,
  .stDownloadButton > button:active {
    transform: translateY(0);
  }
  
  /* Secondary / ghost style buttons */
  button[kind="secondary"],
  .stButton [data-baseweb="button"][aria-pressed],
  .stButton [data-baseweb="button"].css-1vt2x3u {
    background: #fff !important;
    color: var(--brand) !important;
    border: 1px solid rgba(37,99,235,0.35) !important;
  }
  
  /* Inputs (selects, text, date) */
  div[data-baseweb="select"], 
  div[data-baseweb="input"],
  div[data-baseweb="textarea"],
  div[data-baseweb="datepicker"]{
    border-radius: 12px !important;
    background: #fff;
    border: 1px solid var(--line);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
  }
  div[data-baseweb="slider"] .rc-slider-handle {
    border-color: var(--brand) !important;
  }
  div[data-baseweb="slider"] .rc-slider-track {
    background: var(--brand) !important;
  }
  
  /* Radio / Checkboxes */
  label[data-baseweb="radio"] > div,
  label[data-baseweb="checkbox"] > div{
    border-radius: 10px;
    padding: .25rem .4rem;
  }
  
  /* Expanders */
  details {
    background: var(--panel);
    border-radius: var(--radius);
    border: 1px solid var(--line);
    box-shadow: var(--shadow);
  }
  summary { font-weight: 600; }
  
  /* Metrics */
  [data-testid="stMetric"] {
    background: var(--panel);
    border: 1px solid var(--line);
    border-radius: 12px;
    padding: 12px;
    box-shadow: var(--shadow);
  }
  [data-testid="stMetric"] [data-testid="stMetricValue"] {
    color: var(--brand);
  }
  
  /* Progress bars */
  div[role="progressbar"] > div {
    background: linear-gradient(90deg, var(--brand), var(--brand-2), var(--brand-3)) !important;
  }
  
  /* Tables (simple st.table) */
  [data-testid="stTable"] table {
    border-collapse: collapse !important;
    background: #fff;
    border: 1px solid var(--line);
    box-shadow: var(--shadow);
    border-radius: 12px;
    overflow: hidden;
  }
  [data-testid="stTable"] th {
    background: #f8fafc;
    color: var(--text-strong);
    padding: 12px 10px !important;
    border-bottom: 1px solid var(--line);
    text-transform: uppercase;
    font-size: 12px;
    letter-spacing: .5px;
  }
  [data-testid="stTable"] td {
    padding: 10px 10px !important;
    border-bottom: 1px solid #f1f5f9;
  }
  
  /* DataFrames (arrow) — make header tidy & rows zebra */
  [data-testid="stDataFrame"] {
    border: 1px solid var(--line);
    border-radius: 12px;
    box-shadow: var(--shadow);
  }
  [data-testid="stDataFrame"] .sticky thead tr th {
    background: #f8fafc !important;
    color: var(--text-strong) !important;
    font-weight: 700;
  }
  [data-testid="stDataFrame"] tbody tr:nth-child(odd) td {
    background: #fcfdff;
  }
  
  /* Plotly charts container */
  .js-plotly-plot, .plot-container {
    border-radius: 12px;
    background: var(--panel);
    border: 1px solid var(--line);
    box-shadow: var(--shadow);
    padding: 8px;
  }
  
  /* Badges / captions */
  .small-badge {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 999px;
    background: #e0f2fe;
    color: #0369a1;
    border: 1px solid rgba(14,165,233,0.25);
    font-size: 12px;
  }
  
  /* Download button alignment */
  [data-testid="stDownloadButton"] { margin-top: 4px; }
  
  /* Scrollbars */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(37, 99, 235, 0.6) rgba(15, 23, 42, 0.06);
  }
  *::-webkit-scrollbar {
    height: 10px;
    width: 10px;
  }
  *::-webkit-scrollbar-track {
    background: rgba(15,23,42,0.06);
    border-radius: 10px;
  }
  *::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--brand), var(--brand-2));
    border-radius: 10px;
  }
  
  /* Footer / header helpers (if you used the custom ones) */
  .dev-footer-wrap .dev-footer,
  .dev-wrap .dev-card {
    border-radius: 16px;
    border: 1px solid var(--line);
    box-shadow: var(--shadow);
  }
  
  /* Legend column (custom) */
  .legend-card {
    border: 1px solid var(--line);
    border-radius: 12px;
    background: #fff;
    box-shadow: var(--shadow);
    padding: 10px 12px;
  }
  .legend-item {
    display:flex; align-items:center; gap:8px; margin-bottom:6px;
  }
  .legend-swatch {
    width:12px; height:12px; border-radius:2px; flex:0 0 auto;
    box-shadow: 0 0 0 1px rgba(0,0,0,0.1) inset;
  }
  .legend-label {
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    color: var(--text);
  }
  
  /* Chips */
  .chip {
    display:inline-flex; align-items:center; gap:6px;
    padding:6px 10px; border-radius:999px;
    background:#fff; border:1px solid var(--line);
    font-size:12px; color: var(--text);
  }
  
  /* Info / warning boxes harmonized */
  .stAlert {
    border-radius: 12px;
    border: 1px solid var(--line);
    box-shadow: var(--shadow);
  }
  
  /* Links */
  a { color: var(--brand); }
  a:hover { color: #1e40af; }
  
  /* Make code blocks clean */
  code, pre {
    background: #0b10231a;
    border-radius: 8px;
    padding: 2px 6px;
  }
  
  /* Mobile tweaks */
  @media (max-width: 700px) {
    .js-plotly-plot, .plot-container { padding: 4px; }
  }
  